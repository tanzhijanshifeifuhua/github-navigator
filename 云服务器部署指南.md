# â˜ï¸ äº‘æœåŠ¡å™¨éƒ¨ç½²æŒ‡å—

## ğŸ“‹ é€‚ç”¨çš„äº‘æœåŠ¡å™¨

- é˜¿é‡Œäº‘ ECS
- è…¾è®¯äº‘ CVM
- åä¸ºäº‘ ECS
- AWS EC2
- Azure VM
- ä»»ä½• Linux VPS

---

## ğŸ¯ éƒ¨ç½²æ–¹å¼é€‰æ‹©

### æ–¹å¼ 1ï¼šDocker éƒ¨ç½²ï¼ˆæ¨èï¼‰â­
- æœ€ç®€å•
- ç¯å¢ƒéš”ç¦»
- æ˜“äºç®¡ç†

### æ–¹å¼ 2ï¼šä¼ ç»Ÿéƒ¨ç½²
- ç›´æ¥å®‰è£…
- æ›´çµæ´»
- é€‚åˆå®šåˆ¶

---

## ğŸš€ æ–¹å¼ 1ï¼šDocker éƒ¨ç½²ï¼ˆæ¨èï¼‰

### å‰ç½®è¦æ±‚
- äº‘æœåŠ¡å™¨ï¼ˆ1æ ¸2G å³å¯ï¼‰
- æ“ä½œç³»ç»Ÿï¼šUbuntu 20.04+ / CentOS 7+
- å·²å¼€æ”¾ç«¯å£ï¼š80, 443, 5000

### æ­¥éª¤ 1ï¼šè¿æ¥æœåŠ¡å™¨

```bash
# ä½¿ç”¨ SSH è¿æ¥ï¼ˆæ›¿æ¢ä¸ºä½ çš„æœåŠ¡å™¨ IPï¼‰
ssh root@ä½ çš„æœåŠ¡å™¨IP
```

### æ­¥éª¤ 2ï¼šå®‰è£… Docker

```bash
# Ubuntu/Debian
curl -fsSL https://get.docker.com | sh
systemctl start docker
systemctl enable docker

# éªŒè¯å®‰è£…
docker --version
```

### æ­¥éª¤ 3ï¼šå…‹éš†é¡¹ç›®

```bash
# å®‰è£… Gitï¼ˆå¦‚æœæ²¡æœ‰ï¼‰
apt install git -y  # Ubuntu/Debian
# yum install git -y  # CentOS

# å…‹éš†é¡¹ç›®
cd /opt
git clone https://github.com/tanzhijanshifeifuhua/github-navigator.git
cd github-navigator
```

### æ­¥éª¤ 4ï¼šä½¿ç”¨ Docker Compose éƒ¨ç½²

```bash
# å®‰è£… Docker Compose
curl -L "https://github.com/docker/compose/releases/latest/download/docker-compose-$(uname -s)-$(uname -m)" -o /usr/local/bin/docker-compose
chmod +x /usr/local/bin/docker-compose

# å¯åŠ¨æœåŠ¡
cd /opt/github-navigator
docker-compose -f config/docker-compose.yml up -d

# æŸ¥çœ‹æ—¥å¿—
docker-compose -f config/docker-compose.yml logs -f
```

### æ­¥éª¤ 5ï¼šè®¿é—®ç½‘ç«™

```bash
# è®¿é—®
http://ä½ çš„æœåŠ¡å™¨IP:5000
```

### æ­¥éª¤ 6ï¼šé…ç½® Nginxï¼ˆå¯é€‰ï¼Œç”¨äºåŸŸåè®¿é—®ï¼‰

```bash
# å®‰è£… Nginx
apt install nginx -y

# å¤åˆ¶é…ç½®
cp config/nginx.conf /etc/nginx/sites-available/github-navigator

# ä¿®æ”¹é…ç½®ä¸­çš„åŸŸå
nano /etc/nginx/sites-available/github-navigator
# å°† your-domain.com æ”¹ä¸ºä½ çš„åŸŸå

# å¯ç”¨é…ç½®
ln -s /etc/nginx/sites-available/github-navigator /etc/nginx/sites-enabled/
nginx -t
systemctl restart nginx
```

### æ­¥éª¤ 7ï¼šé…ç½® SSLï¼ˆå¯é€‰ï¼‰

```bash
# å®‰è£… Certbot
apt install certbot python3-certbot-nginx -y

# è·å–è¯ä¹¦ï¼ˆæ›¿æ¢ä¸ºä½ çš„åŸŸåï¼‰
certbot --nginx -d your-domain.com

# è‡ªåŠ¨ç»­æœŸ
certbot renew --dry-run
```

---

## ğŸ”§ æ–¹å¼ 2ï¼šä¼ ç»Ÿéƒ¨ç½²

### æ­¥éª¤ 1ï¼šè¿æ¥æœåŠ¡å™¨å¹¶å®‰è£…ä¾èµ–

```bash
# è¿æ¥æœåŠ¡å™¨
ssh root@ä½ çš„æœåŠ¡å™¨IP

# æ›´æ–°ç³»ç»Ÿ
apt update && apt upgrade -y

# å®‰è£… Python å’Œä¾èµ–
apt install python3 python3-pip python3-venv nginx -y
```

### æ­¥éª¤ 2ï¼šå…‹éš†é¡¹ç›®

```bash
# åˆ›å»ºç›®å½•
mkdir -p /var/www
cd /var/www

# å…‹éš†é¡¹ç›®
git clone https://github.com/tanzhijanshifeifuhua/github-navigator.git
cd github-navigator
```

### æ­¥éª¤ 3ï¼šåˆ›å»ºè™šæ‹Ÿç¯å¢ƒ

```bash
# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python3 -m venv venv

# æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
source venv/bin/activate

# å®‰è£…ä¾èµ–
pip install -r requirements.txt
```

### æ­¥éª¤ 4ï¼šé…ç½® Systemd æœåŠ¡

```bash
# å¤åˆ¶æœåŠ¡æ–‡ä»¶
cp config/github-navigator.service /etc/systemd/system/

# ä¿®æ”¹æœåŠ¡æ–‡ä»¶ä¸­çš„è·¯å¾„
nano /etc/systemd/system/github-navigator.service
# ç¡®è®¤è·¯å¾„ä¸º /var/www/github-navigator

# é‡è½½å¹¶å¯åŠ¨æœåŠ¡
systemctl daemon-reload
systemctl start github-navigator
systemctl enable github-navigator

# æŸ¥çœ‹çŠ¶æ€
systemctl status github-navigator
```

### æ­¥éª¤ 5ï¼šé…ç½® Nginx

```bash
# å¤åˆ¶ Nginx é…ç½®
cp config/nginx.conf /etc/nginx/sites-available/github-navigator

# ä¿®æ”¹é…ç½®
nano /etc/nginx/sites-available/github-navigator
# ä¿®æ”¹ server_name ä¸ºä½ çš„åŸŸåæˆ– IP

# å¯ç”¨é…ç½®
ln -s /etc/nginx/sites-available/github-navigator /etc/nginx/sites-enabled/
nginx -t
systemctl restart nginx
```

### æ­¥éª¤ 6ï¼šé…ç½®é˜²ç«å¢™

```bash
# UFWï¼ˆUbuntuï¼‰
ufw allow 80
ufw allow 443
ufw allow 5000
ufw enable

# Firewalldï¼ˆCentOSï¼‰
firewall-cmd --permanent --add-port=80/tcp
firewall-cmd --permanent --add-port=443/tcp
firewall-cmd --permanent --add-port=5000/tcp
firewall-cmd --reload
```

---

## ğŸ“ ä¸€é”®éƒ¨ç½²è„šæœ¬

æˆ‘ä¸ºä½ åˆ›å»ºäº†ä¸€ä¸ªè‡ªåŠ¨åŒ–éƒ¨ç½²è„šæœ¬ï¼š

```bash
# ä¸‹è½½å¹¶è¿è¡Œä¸€é”®éƒ¨ç½²è„šæœ¬
curl -fsSL https://raw.githubusercontent.com/tanzhijanshifeifuhua/github-navigator/main/scripts/deploy.sh | bash
```

---

## ğŸ”„ æ›´æ–°éƒ¨ç½²

### Docker æ–¹å¼æ›´æ–°

```bash
cd /opt/github-navigator
git pull
docker-compose -f config/docker-compose.yml down
docker-compose -f config/docker-compose.yml up -d --build
```

### ä¼ ç»Ÿæ–¹å¼æ›´æ–°

```bash
cd /var/www/github-navigator
git pull
source venv/bin/activate
pip install -r requirements.txt
systemctl restart github-navigator
```

---

## ğŸ“Š ç›‘æ§å’Œç»´æŠ¤

### æŸ¥çœ‹æ—¥å¿—

```bash
# Docker æ–¹å¼
docker-compose -f config/docker-compose.yml logs -f

# ä¼ ç»Ÿæ–¹å¼
journalctl -u github-navigator -f
```

### æŸ¥çœ‹èµ„æºä½¿ç”¨

```bash
# æŸ¥çœ‹å†…å­˜å’Œ CPU
htop

# æŸ¥çœ‹ç£ç›˜
df -h

# æŸ¥çœ‹ Docker å®¹å™¨
docker stats
```

### è‡ªåŠ¨æ›´æ–°æ•°æ®

```bash
# æ·»åŠ å®šæ—¶ä»»åŠ¡
crontab -e

# æ¯å¤©å‡Œæ™¨ 2 ç‚¹æ›´æ–°æ•°æ®
0 2 * * * cd /var/www/github-navigator && /var/www/github-navigator/venv/bin/python scripts/crawler.py && /var/www/github-navigator/venv/bin/python scripts/add_chinese_descriptions.py && systemctl restart github-navigator
```

---

## ğŸ›¡ï¸ å®‰å…¨å»ºè®®

### 1. é…ç½®é˜²ç«å¢™
```bash
# åªå¼€æ”¾å¿…è¦ç«¯å£
ufw default deny incoming
ufw default allow outgoing
ufw allow ssh
ufw allow 80
ufw allow 443
ufw enable
```

### 2. ç¦ç”¨ root ç™»å½•
```bash
# åˆ›å»ºæ™®é€šç”¨æˆ·
adduser deploy
usermod -aG sudo deploy

# ä¿®æ”¹ SSH é…ç½®
nano /etc/ssh/sshd_config
# è®¾ç½® PermitRootLogin no
systemctl restart sshd
```

### 3. é…ç½® SSL
```bash
# ä½¿ç”¨ Let's Encrypt å…è´¹è¯ä¹¦
certbot --nginx -d your-domain.com
```

### 4. å®šæœŸå¤‡ä»½
```bash
# å¤‡ä»½æ•°æ®
tar -czf backup-$(date +%Y%m%d).tar.gz /var/www/github-navigator/github_projects.json

# ä¸Šä¼ åˆ°äº‘å­˜å‚¨ï¼ˆå¯é€‰ï¼‰
```

---

## ğŸ’° äº‘æœåŠ¡å™¨æ¨èé…ç½®

### æœ€ä½é…ç½®ï¼ˆä¸ªäººä½¿ç”¨ï¼‰
- CPU: 1æ ¸
- å†…å­˜: 2GB
- ç¡¬ç›˜: 20GB
- å¸¦å®½: 1Mbps
- è´¹ç”¨: çº¦ Â¥50-100/æœˆ

### æ¨èé…ç½®ï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰
- CPU: 2æ ¸
- å†…å­˜: 4GB
- ç¡¬ç›˜: 40GB
- å¸¦å®½: 3Mbps
- è´¹ç”¨: çº¦ Â¥100-200/æœˆ

---

## ğŸŒ åŸŸåé…ç½®

### 1. è´­ä¹°åŸŸå
- é˜¿é‡Œäº‘ï¼šhttps://wanwang.aliyun.com
- è…¾è®¯äº‘ï¼šhttps://dnspod.cloud.tencent.com
- GoDaddyï¼šhttps://www.godaddy.com

### 2. é…ç½® DNS
æ·»åŠ  A è®°å½•ï¼š
- ä¸»æœºè®°å½•: @ æˆ– www
- è®°å½•ç±»å‹: A
- è®°å½•å€¼: ä½ çš„æœåŠ¡å™¨ IP
- TTL: 600

### 3. ç­‰å¾…ç”Ÿæ•ˆ
é€šå¸¸ 10 åˆ†é’Ÿåˆ° 24 å°æ—¶

---

## â“ å¸¸è§é—®é¢˜

### Q: ç«¯å£ 5000 æ— æ³•è®¿é—®ï¼Ÿ
A: æ£€æŸ¥é˜²ç«å¢™å’Œäº‘æœåŠ¡å™¨å®‰å…¨ç»„è®¾ç½®

### Q: æœåŠ¡å¯åŠ¨å¤±è´¥ï¼Ÿ
A: æŸ¥çœ‹æ—¥å¿— `journalctl -u github-navigator -xe`

### Q: å†…å­˜ä¸è¶³ï¼Ÿ
A: å‡çº§æœåŠ¡å™¨é…ç½®æˆ–ä¼˜åŒ–åº”ç”¨

### Q: å¦‚ä½•ç»‘å®šåŸŸåï¼Ÿ
A: ä¿®æ”¹ Nginx é…ç½®ä¸­çš„ server_name

---

## ğŸ“ è·å–å¸®åŠ©

- æŸ¥çœ‹æ—¥å¿—æ’æŸ¥é—®é¢˜
- æ£€æŸ¥é˜²ç«å¢™å’Œå®‰å…¨ç»„
- ç¡®è®¤æœåŠ¡çŠ¶æ€
- æŸ¥çœ‹ç³»ç»Ÿèµ„æº

---

**ç¥éƒ¨ç½²é¡ºåˆ©ï¼** ğŸ‰
